services:
  - type: web
    name: orangehrm-portos-clean
    runtime: docker
    plan: free
    region: oregon
    branch: main
    dockerfilePath: ./Dockerfile
    env: docker
    envVars:
      # ConexiÃ³n a base de datos existente
      - key: DATABASE_URL
        fromDatabase:
          name: orangehrm-portos-db
          property: connectionString
      
      # ConfiguraciÃ³n de la empresa
      - key: ORANGEHRM_ORGANIZATION_NAME
        value: "Portos International"
      - key: ORANGEHRM_ORGANIZATION_ADDRESS
        value: "Monterrey, Nuevo LeÃ³n, MÃ©xico"
      - key: ORANGEHRM_COUNTRY
        value: "MX"
      
      # ConfiguraciÃ³n regional MÃ©xico
      - key: TZ
        value: America/Mexico_City
      - key: PHP_TIMEZONE
        value: America/Mexico_City
      - key: ORANGEHRM_LOCALE
        value: es_MX
      - key: ORANGEHRM_LANGUAGE
        value: es
      - key: ORANGEHRM_CURRENCY
        value: MXN
      
      # Credenciales de administrador
      - key: ORANGEHRM_ADMIN_USER
        value: admin
      - key: ORANGEHRM_ADMIN_PASSWORD
        value: PortosAdmin123!
      - key: ORANGEHRM_ADMIN_EMAIL
        value: admin@portosinternational.com
      
      # Puerto para Render
      - key: PORT
        value: 10000
        
    # ConfiguraciÃ³n de salud para deployment
    healthCheckPath: /
    
    # Build command personalizado
    buildCommand: |
      echo "ðŸš€ Building OrangeHRM Portos International Clean Installation"
      echo "ðŸ“¦ Using official orangehrm/orangehrm:5.7 image"
      echo "âœ… Build process handled by Docker"

# Referencia a base de datos existente
# Nota: La base orangehrm-portos-db ya existe en tu cuenta de Render
# Este archivo la referencia sin crearla nuevamente